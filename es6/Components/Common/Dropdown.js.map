{"version":3,"file":"Dropdown.js","sources":["../../../src/Components/Common/Dropdown.tsx"],"sourcesContent":["// @ts-nocheck\nimport React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames/bind';\n\nimport Styles from './Dropdown.styles.scss';\nimport Button from './Button';\n\nconst context = classNames.bind(Styles);\n\nconst Dropdown = ({ items, selected, onChange, className }) => {\n  const [isExpand, setExpand] = useState(false);\n  const [selectedKey, setSelection] = useState(selected !== null ? selected : items[0]);\n  const dropdownItemsRef = useRef(null);\n  const isExpandRef = useRef(isExpand);\n\n  const updateToggle = (toggleState) => {\n    setExpand(toggleState);\n    isExpandRef.current = toggleState;\n  };\n\n  const handleItemSelection = (key) => {\n    setSelection(key);\n    onChange(key);\n    updateToggle(false);\n  };\n\n  const removeFocus = ({ target }) => {\n    if (isExpandRef.current && !dropdownItemsRef.current.contains(target)) {\n      updateToggle(false);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('click', removeFocus);\n\n    return () => {\n      window.removeEventListener('click', removeFocus);\n    };\n  }, []);\n\n  return (\n    <span\n      ref={dropdownItemsRef}\n      className={context('dropdown-container', className, { expanded: isExpand })}\n    >\n      <Button\n        category=\"default\"\n        className={context('dropdown-toggle', { active: isExpand })}\n        material\n        onClick={() => updateToggle(!isExpand)}\n        raised={isExpand}\n        size=\"sm\"\n      >\n        {selectedKey}\n      </Button>\n      {isExpand && (\n        <ul className={Styles.list}>\n          {items.map((text, index) => (\n            <li\n              key={text}\n              className={context('list-item', { active: text === selectedKey })}\n            >\n              <span\n                className={Styles['item-text']}\n                onClick={() => handleItemSelection(text)}\n                role=\"button\"\n                tabIndex={index}\n              >\n                {text}\n              </span>\n            </li>\n          ))}\n        </ul>\n      )}\n    </span>\n  );\n};\n\nDropdown.propTypes = {\n  className: PropTypes.string,\n  items: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired,\n  selected: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n};\n\nDropdown.defaultProps = {\n  className: null,\n  selected: null,\n};\n\nexport default Dropdown;\n"],"names":["context","classNames","bind","Styles","Dropdown","items","selected","onChange","className","useState","isExpand","setExpand","selectedKey","setSelection","dropdownItemsRef","useRef","isExpandRef","updateToggle","toggleState","current","handleItemSelection","key","removeFocus","target","contains","useEffect","window","addEventListener","removeEventListener","expanded","active","list","map","text","index","propTypes","PropTypes","string","array","isRequired","func","oneOfType","number","defaultProps"],"mappings":"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"}